<html>

	<head>
		<title>HTML5 Canvas</title>
		
		<script>
		var x = 10;
		var playerImage;
		var frameNumber = 0;
		var playerPosX = 0;
		
			function load()
			{
			// Allocate a new image and assign it to our previous variable
				playerImage = new Image();
			// Set the src (the path of the image). This will be loaded by the
			// browser but may not be loaded immediately
				playerImage.src = "images/dinosheet1.png";
			}

		
			function main()
			{
				load();
			
			// Get a reference to our canvas by the specified ID
				var canvas = document.getElementById("canvas");
			// Set the width and height
				canvas.width = 1280;
				canvas.height = 480;
				
			// Create the 2D drawing context (Context = pen) 
				var ctx = canvas.getContext('2d');
			// Call our draw function, passing in the context
				draw(ctx);

			}
			
			function draw(ctx)
			{
			// Set clear color to gray and fetch width and height from canvas
				ctx.fillStyle = 'gray';
				ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
			
			var frameWidth = playerImage.width / 6;
			var frameHeight = playerImage.height / 3;
			// image, sourcex, sourcey, 
			//sourcewidth, sourceheight,
			// destx, desty, 
			//destwidth, destheight
				ctx.drawImage(playerImage, 
				frameWidth * frameNumber, 10,
				frameWidth, frameHeight,
				playerPosX, 20, 200, 200);

			// Increment x by 1
				x++;
			// Ask the browser to call this function again as soon as it can
				window.requestAnimationFrame(function(){draw(ctx);});
				
				if (x % 10 ==0)
				{
					frameNumber++
				}
				
				if (frameNumber > 3.5)
				{
					frameNumber = 0
				}
			}
			
			function keydown(event)
{
 if(event.key == "ArrowLeft")
 {
	playerPosX--;
 }
 else if(event.key == "ArrowRight")
 {
	playerPosX++;
 }
}

window.addEventListener("keydown", keydown);
window.onload = main;
		</script>
	</head>
	
	<body>
		<canvas id="canvas" style="background: blue"></canvas>
	</body>
	
</html>